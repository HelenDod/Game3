# Лабораторная работа. Доработка интерактивного приложения и его подготовка к сборке.
Отчет по лабораторной работе #4 выполнила:
- Додонова Елена Игоревна
- РИ-300002
Отметка о выполнении заданий (заполняется студентом):

| Задание | Выполнение | Баллы |
| ------ | ------ | ------ |
| Задание 1 | * | 60 |
| Задание 2 | * | 20 |
| Задание 3 | * | 20 |

знак "*" - задание выполнено; знак "#" - задание не выполнено;

Работу проверили:
- к.т.н., доцент Денисов Д.В.
- к.э.н., доцент Панов М.А.
- ст. преп., Фадеев В.О.

## Цель работы
Подготовить разрабатываемое интерактивное приложение к сборке и публикации.

## Задание 1
### Используя видео-материалы практических работ 1-5 повторить реализацию функционала.
### – 1 Практическая работа «Создание анимации объектов на сцене»
Ход работы:
1) Делаем копию 0-ой сцены, оригинал переименновываем как 1-ая сцена, а копию переименновываем в 0-ую. В 0-ой сцене мы создадим стартовую сцену, которую видит игрок при запуске игры. Удалим лишние компоненты и изменим положение горы с драконом.
![image](https://user-images.githubusercontent.com/90499063/199755729-ceaadc25-aeb8-4cf7-9748-71506849450b.png)

2) Дракону добавим анимацию в состоянии простоя.
![image (1)](https://user-images.githubusercontent.com/90499063/199756178-41081b41-fd1f-44af-b344-0a4b625b6d80.png)
![Анимация простоя](https://user-images.githubusercontent.com/90499063/199757107-e27f6d97-9261-4d1f-b874-1476b797c65c.gif)

3) Добавим текстуру облака на задний план и настроим его анимацию.
![image (2)](https://user-images.githubusercontent.com/90499063/199756318-f9e79512-5ed0-4cce-b90b-3e3f6621060a.png)
![Движение облака (1)](https://user-images.githubusercontent.com/90499063/199759602-9ce09c84-95d4-4dc7-980f-967608dbb2d9.gif)

4) Изменим скорость облака на 0,1.
![image (3)](https://user-images.githubusercontent.com/90499063/199756431-ef40b951-e109-4927-92fd-b630dc68587d.png)

### – 2 Практическая работа «Создание стартовой сцены и переключение между ними»
Ход работы:
1) Создадим заголовок на сцене с названием игры.
![image (4)](https://user-images.githubusercontent.com/90499063/199759870-936aa8ac-13f6-417b-ad8c-d0d7ae8b847c.png)

2) Создадим главное меню игры. Создадим кнопки начала игры, опций и выхода, придадим им визуальный вид облаков и расположим по сцене.
![image (5)](https://user-images.githubusercontent.com/90499063/199759950-71d706a4-d7a1-448d-91b3-4b72675900a3.png)

3) Напишем скрипт, отвечающий за основной функционал главного меню игры.
```
public void PlayGame()
    {
        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex + 1);
    }

public void QuitGame()
    {
        Application.Quit();
    }
```
4) Настроим кликабельность кнопки play. Вот, что у нас получилось в итоге:
![Play-работает gif](https://user-images.githubusercontent.com/90499063/199760279-c22a7000-8000-47e9-84a5-3f7588c29004.gif)

### – 3 Практическая работа «Доработка меню и функционала с остановкой игры»
Ход работы:
1) Для кнопки Quit проделаем тоже самое.
![image](https://user-images.githubusercontent.com/90499063/199760411-947d73d7-6352-4400-9d95-2a6fd74ebeef.png)

2) Сделаем дубликаты кнопок для окна опций. Добавим новые настройки для кнопок опций и выхода из них, чтоб при активации одной из них, вторая стала деактивна. Таким образом, у нас появляется окно для настроек игры.
![image (6)](https://user-images.githubusercontent.com/90499063/199760506-d9633352-cc64-4785-b283-e5e7945a1e16.png)
![Опции-бэк](https://user-images.githubusercontent.com/90499063/199760693-da5b3738-02b1-4529-bb14-6cba0432c564.gif)

3) Напишем скрипт, с помощью которого игрок сможет ставить игру на паузу или выходить в главное меню.
```
private bool paused = false;

public GameObject panel;

void Update()
{
    if (Input.GetKeyDown(KeyCode.Space)){
        if (!paused){
            Time.timeScale = 0;
            paused = true;
            panel.SetActive(true);
        }
        else{
            Time.timeScale = 1;
            paused = false;
            panel.SetActive(false);
        }
    }

    if(Input.GetKeyDown(KeyCode.Escape)){
        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex - 1);
    }
}
```

4) Создадим новый текстовый объект, который послужит баннером во время паузы. Добавим к ней настройки, что при нажатии на пробел, игра поставится на паузу. 
![Вкл выкл паузы](https://user-images.githubusercontent.com/90499063/199760834-8872c2bd-d3e5-4197-8cc6-4965fdba6a3f.gif)

### – 4 Практическая работа «Добавление звукового сопровождения в игре»
Ход работы:
1) Импортируем звуковые дорожки в нашу игру и подключим разные аудио к каждой из сцен. При переключении между сценами аудиодорожки так же будут переключаться.

2) Добавим в игру звук взрыва, который будет происходить при соприкосновении яйца с землей. Для этого в ранее созданный скрипт DragonEgg добавим некоторые строки кода.

```
public static float bottomY = -30f;

public AudioSource audioSource;
    
private void OnTriggerEnter(Collider other) {
    ParticleSystem ps = GetComponent<ParticleSystem>();
    var em = ps.emission;
    em.enabled = true;

    Renderer rend;
    rend = GetComponent<Renderer>();
    rend.enabled = false;

    audioSource = GetComponent<AudioSource>();
    audioSource.Play();
}
```
После чего мы видим, что при ловле объекта звук не срабатывает, а при пропуске - срабатывает.

3) Добавим еще один звуковой файл, который будет запускаться при ловле яйца игроком. Такие же строки кода добавим в существующий скрипт-файл EnergyShield.

```
public AudioSource audioSource;

private void OnCollisionEnter(Collision coll) {
        GameObject Collided = coll.gameObject;
        if (Collided.tag == "Dragon Egg"){
            Destroy(Collided);
        }
        int score = int.Parse(scoreGT.text);
        score +=1;
        scoreGT.text = score.ToString();
        audioSource = GetComponent<AudioSource>();
        audioSource.Play();
    }
```
Получаем такой звук.


### – 5 Практическая работа «Добавление персонажа и сборка сцены для публикации на web-ресурсе»
Ход работы:
1) Добавим персонажа в игру, настроим его расположение. 

2) Распакуем и наложим текстуры, подключим анимацию.

3) Сделаем синюю подсветку персонажу.
4) Итог


5) Создаем билд игры и наслаждаемся!

## Задание 2
### Привести описание того, как происходит сборка проекта под другие платформы. Какие могут быть особенности?
Ход работы:
Сборка проекта - функция, которая позволяет увидеть, как будет выглядеть игра не в среде разработки, а на какой-либо платформе. 

Сборка может быть для ПК, веба, мобильных устройств, консолей. Каждый билд запускается на своем устройстве, поскольку устройства ввода на разных платформах отличаются. Например, мышь, геймпад, клавиатура и т.д. Все это особенности определенных из платформ, которых может не быть у других, что важно учитывать при сборке проекта.

Также стоит учитывать системные требования, различные ограничения по памяти, мощности, производительности платформ.

## Задание 3
### Добавить в меню Option возможность изменения громкости (от 0 до 100%) фоновой музыки в игре.
Ход работы:
1) Создадим новый UI-элемент Slider, который будет отвечать за изменение громкости звука, и поместим его в иерархии компонентов в опции.


2) Поскольку наш аудиофайл изначально установлен в камере, мы подключим слайдер к камере и проведем дополнительные настройки начального положения слайдера и границ изменения объема звука.


3) Вот, что получилось в итоге:


## Выводы
В ходе данной лабораторной работы мы смогли подготовить нашу игру к сборке для публикации. 
Мы создали стартовый экран игры с главным меню, тем самым сделав ее полноценнее. 
Поработали с настройкой анимации. 
Осуществили кликабельность кнопок, сделали паузу и выход из игры, настроили слайдер громкости, благодаря чему игра стала более интерактивная.
Добавили в игру музыкальные дорожки, произвели их настройку.
А так же для атмосферности включили персонажа, сделали ему анимацию движения.
